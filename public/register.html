<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Inscription | FrancNormand</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <div class="auth-container">
    <h2>Inscription</h2>
    <form action="/register" method="POST" onsubmit="return checkPasswordsMatch();">
      <input type="text" name="username" placeholder="Nom d'utilisateur" required />
      <input type="email" name="email" placeholder="Email" required />
      <input type="text" name="wallet" placeholder="Adresse du portefeuille" required />
      
      <div style="position: relative;">
        <input type="password" id="password" name="password" placeholder="Mot de passe" required />
        <button type="button" onclick="togglePassword('password')" style="position: absolute; right: 0;">üëÅ</button>
      </div>
      
      <div style="position: relative;">
        <input type="password" id="confirmPassword" name="confirmPassword" placeholder="Confirmez le mot de passe" required />
        <button type="button" onclick="togglePassword('confirmPassword')" style="position: absolute; right: 0;">üëÅ</button>
      </div>
      
      <p id="error-msg" style="color: red; display: none;">‚ùå Les mots de passe ne correspondent pas</p>

      <button type="submit">Cr√©er mon compte</button>
    </form>
    <div class="toggle">
      D√©j√† inscrit ? <a href="/auth.html">Se connecter</a>
    </div>
  </div>

  <script>
    function togglePassword(id) {
      const input = document.getElementById(id);
      input.type = input.type === "password" ? "text" : "password";
    }

    function checkPasswordsMatch() {
      const pwd = document.getElementById('password').value;
      const confirm = document.getElementById('confirmPassword').value;
      const error = document.getElementById('error-msg');

      if (pwd !== confirm) {
        error.style.display = 'block';
        return false;
      }

      error.style.display = 'none';
      return true;
    }
  </script>
</body>
</html>
